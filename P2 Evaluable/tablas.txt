CREATE TABLE USERS(
    ID INT NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(255) NOT NULL,
    LASTNAME VARCHAR(255) NOT NULL,
    EMAIL VARCHAR(255) NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    BIRTHDATE DATE NOT NULL,
    BIOGRAPHY VARCHAR(1000) NOT NULL,
    IMAGE VARCHAR(255),
    PRIMARY KEY(ID),
    CONSTRAINT EMAIL_UNIQUE UNIQUE (EMAIL)
);

CREATE TABLE BOOKS(
    ID INT NOT NULL AUTO_INCREMENT,
    TITLE VARCHAR(255) NOT NULL,
    AUTOR VARCHAR(255) NOT NULL,
    EDITORIAL VARCHAR(255) NOT NULL,
    YEAR INT(4) NOT NULL,
    EDITION VARCHAR(255) NOT NULL,
    PRIMARY KEY(ID),
    CONSTRAINT TITLE_AUTOR_UNIQUE UNIQUE (TITLE,AUTOR)   
);

CREATE TABLE REVIEWS(
    ID INT NOT NULL AUTO_INCREMENT,
    USERID INT NOT NULL,
    BOOKID INT NOT NULL,
    DESCRIPTION VARCHAR(1000) NOT NULL,
    OPINION VARCHAR(1000) NOT NULL,
    MYREVIEW INT NOT NULL,
    FOREIGN KEY(USERID) REFERENCES USERS(ID),
    FOREIGN KEY(BOOKID) REFERENCES BOOKS(ID),
    
    PRIMARY KEY(ID),
    CONSTRAINT REVIEW_UNIQUE UNIQUE (USERID,BOOKID)   
);